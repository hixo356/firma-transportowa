<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="{% static 'assets/css/style2.css' %}" rel="stylesheet">
</head>
<body>
    {% block test %}

    {% endblock %}
    <form action="trasy" method="POST">
        {% csrf_token %}
        <button type="submit" name="test">TEST</button>
    </form>
    <div class="trasy-form-outside">
        <form method="POST" action="trasy" class="trasy-form-form">
            {% csrf_token %}
             <div>
                <p>Data:</p>
                <input type="text" name="data"/>
            </div>
            <div>
                <p>Zleceniodawca:</p>
                <textarea readonly id="sel-zlec" name="zleceniodawca" class="textarea-selected-object" id="selected-zlec-ta"></textarea>
                <button type="button" id="zlec-btn" class="zlec popup-open-btn" value="zlec">Dodaj nowy/wybierz zleceniodawce</button>
            </div>
            <div>
                <p>Ładunek:</p>
                <textarea readonly id="sel-ladunek" name="ladunek" class="textarea-selected-object"></textarea>
                <button type="button" id="ladunek-btn" class="ladunek popup-open-btn" value="ladunek">Dodaj nowy/wybierz ładunek</button>
            </div>
            <div>
                <p>Początek:</p>
                <textarea readonly id="sel-pocz" name="poczatek" class="textarea-selected-object"></textarea>
                <button type="button" id="poczatek-btn" class="poczatek popup-open-btn" value="poczatek">Ustal początek</button>
            </div>
            <div>
                <p>Destynacja:</p>
                <textarea readonly id="sel-dest" name="destynacja" class="textarea-selected-object"></textarea>
                <button type="button" id="dest-btn" class="destynacja popup-open-btn" value="dest">Ustal początek</button>
            </div>
            <div>
                <p>Kierowca:</p>
                <textarea readonly id="sel-kierowca" name="kierowca" class="textarea-selected-object"></textarea>
                <button type="button" id="kierowca-btn" class="kierowca popup-open-btn" value="kierowca">Wybierz Kierowcę</button>
            </div>
            <div>
                <p>Przychod:</p>
                <input type="text" name="przychod"/>
            </div>
            <div>
                <input type="submit" name="ftrasa"/>
            </div>
        </form>
    </div>

<!--    POPUP ZLECENIODAWCY-->
    <div id="zlecPopup" class="popup">
        <div class="popup-content">
            <div style="display: flex; justify-content: flex-end; position: relative; top: -10px; right: -10px;">
<!--                <form method="POST" action="trasy" style="position: absolute; width: 24px; height: 24px;">-->
<!--                    {% csrf_token %}-->
                    <button type="button" class="popup-close-btn" value="zlec">X</button>
<!--                </form>-->
            </div>
            {% include "dodawanie_zleceniodawcy.html" %}
            {% include "wyswietlanie_zleceniodawcow.html" %}
        </div>
    </div>

<!--    POPUP LADUNEK-->
    <div id="ladunekPopup" class="popup">
        <div class="popup-content">
            <div style="display: flex; justify-content: flex-end; position: relative; top: -10px; right: -10px;">
<!--                <form method="POST" action="trasy" style="position: absolute; width: 24px; height: 24px;">-->
<!--                    {% csrf_token %}-->
                    <button type="button" class="popup-close-btn" value="ladunek">X</button>
<!--                </form>-->
            </div>
            {% include "dodawanie_ladunku.html" %}
            {% include "wyswietlanie_ladunkow.html" %}
        </div>
    </div>

    <!--    POPUP POCZĄTEK-->
    <div id="poczatekPopup" class="popup">
        <div class="popup-content">
            <div style="display: flex; justify-content: flex-end; position: relative; top: -10px; right: -10px;">
<!--                <form method="POST" action="trasy" style="position: absolute; width: 24px; height: 24px;">-->
<!--                    {% csrf_token %}-->
                    <button type="button" class="popup-close-btn" value="poczatek">X</button>
<!--                </form>-->
            </div>
            {% include "dodawanie_poczatku.html" %}
        </div>
    </div>

    <!--    POPUP DESTYNACJA-->
    <div id="destPopup" class="popup">
        <div class="popup-content">
            <div style="display: flex; justify-content: flex-end; position: relative; top: -10px; right: -10px;">
<!--                <form method="POST" action="trasy" style="position: absolute; width: 24px; height: 24px;">-->
<!--                    {% csrf_token %}-->
                    <button type="button" class="popup-close-btn" value="dest">X</button>
<!--                </form>-->
            </div>
            {% include "dodawanie_destynacji.html" %}
        </div>
    </div>

    <!--    POPUP KIEROWCA-->
    <div id="kierowcaPopup" class="popup">
        <div class="popup-content">
            <div style="display: flex; justify-content: flex-end; position: relative; top: -10px; right: -10px;">
<!--                <form method="POST" action="trasy" style="position: absolute; width: 24px; height: 24px;">-->
<!--                    {% csrf_token %}-->
                    <button type="button" class="popup-close-btn" value="kierowca">X</button>
<!--                </form>-->
            </div>
            {% include "wyswietlanie_kierowcow.html" %}
        </div>
    </div>



    <div class="objects-list-outside">
        <h2 style="position: relative; left: 15px">Wszystkie Trasy:</h2>
        <div class="objects-list-inside">
            <div class="objects-list-item">
                <div class="objects-list-item-content"><div class="olic-child"><b>Data</b></div><div class="olic-child"><b>Zleceniodawca</b></div><div class="olic-child"><b>Ładunek</b></div><div class="olic-child"><b>Poczatek</b></div><div class="olic-child"><b>Destynacja</b></div><div class="olic-child"><b>Kierowca</b></div><div class="olic-child"><b>Przychód</b></div></div>
            </div>
            {% for trasa in database.tras_obj %}
                <div class="objects-list-item">
                    <div class="objects-list-item-content"><div class="olic-child">{{trasa.data}}</div><div class="olic-child">{{trasa.zlec.nazwa}}</div><div class="olic-child">{{trasa.lad.pojazd}}</div><div class="olic-child">{{trasa.pocz.adres}}</div><div class="olic-child">{{trasa.kierow.imie}}</div></div>
                    <div><form action="trasy" method="post" style="display: flex; justify-content: space-around;">{% csrf_token %}<button type="submit" name="edytuj_ladunek" value={{ladunek.id_ladunek}} style="width: 1.5em; height: 1.5em;">E</button><button type="submit" name="usun_ladunek" value={{ladunek.id_ladunek}} style="width: 1.5em; height: 1.5em;">U</button></form></div>
                </div>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'assets/js/jquery-3.7.1.min.js' %}"></script>
    <script src="{% static 'assets/js/trasy.js' %}"></script>


</body>
</html>